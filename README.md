# 在线聊天室系统

这是一个功能丰富的在线聊天室系统，支持实时消息、文件上传、表情包、语音消息等功能。

## 功能特点

### 核心功能
- 实时聊天
- 用户注册和登录
- 在线用户显示
- 消息历史记录
- 文件上传和分享
- 语音消息支持
- 表情包系统
- 自定义头像
- 系统公告
- 背景图片设置

### 管理功能
- 用户管理
- 系统设置
- 公告管理
- 内容审核
- 权限控制

## 系统要求

- PHP 7.4 或更高版本
- Web服务器（Apache/Nginx）
- 文件写入权限
- 支持的文件类型：
  - 图片：JPG, PNG, GIF
  - 音频：WAV, MP3

## 目录结构

```
├── admin/           # 管理后台
├── avatars/         # 用户头像存储
├── config/          # 配置文件
├── data/           # 数据文件
├── emojis/         # 表情包存储
├── includes/       # PHP功能模块
├── public/         # 公共资源
├── uploads/        # 上传文件存储
├── voices/         # 语音消息存储
├── .htaccess      # Apache配置
└── index.php      # 主入口文件
```

## 安装说明

1. 克隆或下载项目到Web服务器目录
2. 确保以下目录具有写入权限：
   - `uploads/`
   - `avatars/`
   - `voices/`
   - `data/`
   - `emojis/`
3. 配置Web服务器（Apache/Nginx）
4. 访问网站首页，系统将自动初始化

## 配置说明

### 系统配置
系统配置存储在 `config/config.php` 中，主要配置项包括：

- 文件上传限制
- 允许的文件类型
- 默认设置
- 时区设置
- 路径配置

### 安全设置
- 密码强度要求
- 用户注册控制
- 文件上传限制
- 会话管理

## 使用说明

### 用户功能
1. 注册/登录
2. 修改个人信息
3. 发送消息
4. 上传文件
5. 发送语音消息
6. 使用表情包
7. 更换头像

### 管理员功能
1. 用户管理
2. 系统设置
3. 公告管理
4. 内容审核
5. 背景设置

## 开发说明

### 主要模块
- `includes/users.php`: 用户管理
- `includes/messages.php`: 消息处理
- `includes/uploads.php`: 文件上传
- `includes/notifications.php`: 通知系统
- `includes/emojis.php`: 表情包系统
- `includes/announcements.php`: 公告系统

### API接口
系统提供以下API接口：

- 用户相关
  - 注册
  - 登录
  - 更新信息
- 消息相关
  - 发送消息
  - 获取历史记录
  - 在线状态
- 文件相关
  - 上传文件
  - 上传头像
  - 上传表情包
- 系统相关
  - 获取设置
  - 更新设置
  - 获取公告

## 安全说明

1. 所有用户输入都经过严格过滤
2. 文件上传限制类型和大小
3. 密码加密存储
4. 会话安全控制
5. XSS防护
6. CSRF防护

## 维护说明

1. 定期清理临时文件
2. 检查日志文件
3. 备份数据文件
4. 更新系统设置
5. 监控系统状态

## 许可证

本项目采用 MIT 许可证

## 联系方式

如有问题或建议，请提交 Issue 或 Pull Request 